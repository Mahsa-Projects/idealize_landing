<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Test Account (iOS) - Idealize</title>
    <link rel="stylesheet" href="style.css?v=3">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<script>
    function enableSubmitButton() {
        document.getElementById("submit-button").disabled = false;
    }

    window.onload = function () {
        document.getElementById("submit-button").disabled = true;
    }
</script>

<style>
    .features li {
        display: flex;
        align-items: flex-start;
        position: relative;
        padding-left: 60px;
        flex-direction: row;
        list-style: none;
        margin-bottom: 50px;
        /* Keep image and text side by side */
    }

    .features li>div {
        display: flex;
        flex-direction: column;
        /* Stack h3 and p vertically */
    }

    .features img {
        width: 150px;
        margin-right: 20px;
        border-radius: 12px;
        object-fit: cover;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .features h3 {
        font-size: 1.5rem;
        font-weight: 600;
        margin: 0 0 0.5rem;
        color: #333;
    }

    .features p {
        font-size: 1.2rem;
        color: #666;
        margin: 0;
        line-height: 1.5;
        max-width: 600px;
        text-align: left;
    }

    @media (max-width: 768px) {
        .features li {
            flex-direction: column;
            align-items: center;
            padding-left: 0;
            text-align: center;
        }

        .features img {
            width: 150px;
            margin: 0 0 15px;
        }

        .features h3 {
            font-size: 1.25rem;
            margin: 0 0 10px;
        }

        .features p {
            font-size: 1rem;
            line-height: 1.4;
        }
    }

    form {
        max-width: 400px;
        /* display: flex; */
        /* flex-direction: column; */
    }

    form button {
        display: block;
        padding-left: 30px;
        padding-right: 30px;
        /* padding: 10px; */
        height: 45px;
        background-color: var(--primary-color);
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 300;
        transition: background-color 0.3s ease;
    }

    form button:disabled {
        background-color: #ccc;
        cursor: not-allowed;
    }

    form button:hover {
        background-color: #0056b3;
    }

    form input[type="email"],
    form input[type="text"] {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 1rem;
        font-weight: 300;
        height: 45px;
    }

    form input[type="email"]:focus {
        outline: none;
        border-color: var(--primary-color);
    }
</style>

<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <h1>Idealize</h1>
            <ul>
                <li><a href="index.htm">Home</a></li>
                <li><a href="hiw.htm">How It Works</a></li>
                <li><a href="privacy-policy.htm">Privacy Policy</a></li>
                <li><a href="terms-conditions.htm">Terms & Conditions</a></li>
                <li><a href="de/ios-request-test-account.htm">| Deutsch</a></li>
            </ul>
            <div id="menu-btn">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>
    <script>
        document.getElementById('menu-btn').addEventListener('click', function () {
            this.classList.toggle('active');
            document.querySelector('nav ul').classList.toggle('active');
        });
    </script>

    <!-- Home Section -->
    <!-- Home Section -->
<section id="home">
    <div class="container">
        <!-- Content -->
        <div class="content2">
            <h2>Request Test Account (iOS)</h2>
            <p style="max-width: 600px; margin-bottom: 60px;">
                To request access to our TestFlight, please provide your first name, last name, and your Apple ID email address below. Once we receive your information, we will add your Apple ID to TestFlight, usually within 48 hours.

            </p>
            <form name="request-form" id="request-form">
                <div style="display: flex; gap: 10px;">
                    <input type="text" placeholder="First name" required name="first_name" id="first_name" style="flex: 1;" autocomplete="given-name" />
                    <input type="text" placeholder="Last name" required name="last_name" id="last_name" style="flex: 1;" autocomplete="family-name" />
                </div>

                <input type="email" placeholder="Enter your email address" required name="email" id="email" autofocus autocapitalize="off" autocorrect="off" spellcheck="false" autofill="false" />

                <div class="g-recaptcha" data-sitekey="6LepSAYrAAAAAJJ1YTeKr20jDHVtgXeBFX32yawX" data-action="LOGIN" data-callback="enableSubmitButton"></div>

                <button style="margin-top: 10px;" type="submit" id="submit-button" disabled>Submit</button>
            </form>

            <!-- How the Process Works -->
            <div style="margin-top: 60px; max-width: 700px; ">
                <h2>How the Process Works:</h2>
                <ol>
                    <li>
                        <strong>Submit Your Information:</strong>
                        <p>Enter your first name, last name, and your Apple ID (email address).</p>
                    </li>
                    <li>
                        <strong>Verification and Addition:</strong>
                        <p>Our team will verify your information. Your Apple ID will be added to TestFlight within approximately 48 hours.</p>
                    </li>
                    <li>
                        <strong>Invitation to TestFlight:</strong>
                        <p>After your Apple ID is added, you'll see our app available within your TestFlight app.</p>
                    </li>
                    <li>
                        <strong>Install and Test:</strong>
                        <p>Open the TestFlight app on your iOS device. Find our app in the available apps list and tap "Install" to begin testing.</p>
                    </li>
                    <li>
                        <strong>Need Help?</strong>
                        <p>If you experience any issues or delays, please email us at <a href="mailto:idealize@hs-heilbronn.de">idealize@hs-heilbronn.de</a>.</p>
                    </li>
                </ol>
            </div>

        </div>
    </div>
</section>

    <script>
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        document.getElementById('request-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const email = document.getElementById('email').value;
            const firstName = document.getElementById('first_name').value;
            const lastName = document.getElementById('last_name').value;

            if (!email || !firstName || !lastName) {
                alert('Please fill in all fields.');
                return;
            } else {
                if (!validateEmail(email)) {
                    alert('Please enter a valid email address.');
                    return;
                }
            }

            // Get the reCAPTCHA response token
            const recaptchaResponse = grecaptcha.getResponse();

            // Check if we have a reCAPTCHA response
            if (!recaptchaResponse) {
                alert('Please complete the reCAPTCHA');
                return;
            }

            // Send data to your API
            fetch('https://api.campusconnects.de/request-test-account', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    email: email,
                    firstName: firstName,
                    lastName: lastName,
                    recaptchaToken: recaptchaResponse
                })
            })
                .then(response => response.json())
                .then(data => {
                    if (!!data.error) {
                        alert(data.message);
                        grecaptcha.reset();
                    } else {
                        alert('Request submitted successfully!');
                        // Optional: reset the form and reCAPTCHA
                        document.getElementById('request-form').reset();
                        grecaptcha.reset();
                        // Disable submit button again
                        document.getElementById('submit-button').disabled = true;
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred. Please try again later.');
                });
        });
    </script>
    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Idealize. All rights reserved.</p>
        <p style="padding-top: 15px;">
            <a href="https://www.hs-heilbronn.de/de/impressum" target="_blank">Imprint</a> &nbsp;&nbsp;|&nbsp;&nbsp; <a
                target="_blank" href="https://www.hs-heilbronn.de/de/idealize">Idealize</a>
        </p>
    </footer>
</body>

</html>